<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>请在浏览器中打开 · 查看活动入口</title>
<meta name="color-scheme" content="light dark">
<style>
  :root{
    --bg:#fff9ef;
    --card:#ffffff;
    --primary:#2466f4;
    --primary-weak:#e8f0ff;
    --accent:#ff7a45;
    --text:#1f2d3d;
    --muted:#6b7280;
    --shadow:0 10px 30px rgba(0,0,0,.08);
    --radius:20px;
  }
  @media (prefers-color-scheme: dark){
    :root{
      --bg:#0f1115; --card:#151821; --text:#e8eaf0; --muted:#98a2b3;
      --primary:#5b8cff; --primary-weak:#1b2a57; --shadow:0 10px 30px rgba(0,0,0,.4);
    }
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "PingFang SC","Hiragino Sans GB","Microsoft YaHei", sans-serif;
    background:var(--bg);
    color:var(--text);
    letter-spacing:.2px;
  }
  .wrap{
    max-width:680px;
    margin:0 auto;
    padding: max(20px, env(safe-area-inset-top)) 18px 32px;
  }
  /* 顶部横幅 */
  .hero{
    position:relative;
    height:160px;
    border-radius:24px;
    background:
      radial-gradient(120% 100% at 0% 0%, #6ad0ff 0%, rgba(106,208,255,0) 60%),
      radial-gradient(120% 120% at 100% 0%, #7b7dff 0%, rgba(123,125,255,0) 60%),
      linear-gradient(135deg, #1b63ff 0%, #11b3ff 100%);
    box-shadow: var(--shadow);
    overflow:hidden;
  }
  .hero .hand{
    position:absolute; right:16px; bottom:16px; width:96px; opacity:.9;
    filter: drop-shadow(0 6px 16px rgba(0,0,0,.15));
  }
  .title{
    margin:18px 6px 10px;
    font-weight:800;
    font-size:22px;
    line-height:1.25;
    letter-spacing:.3px;
    display:flex; align-items:center; gap:8px;
  }
  .badge{
    display:inline-block;
    padding:4px 10px;
    border-radius:999px;
    background:var(--primary-weak);
    color:var(--primary);
    font-weight:700;
    font-size:12px;
  }
  .card{
    background:var(--card);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding:18px 16px;
    margin:14px 0 0;
  }
  .desc{
    font-size:15.5px; line-height:1.8; color:var(--text);
  }
  .desc b{color:var(--accent)}
  .btns{
    display:flex; gap:12px; margin:18px 0 6px; flex-wrap:wrap;
  }
  .btn{
    appearance:none; border:0; cursor:pointer;
    padding:12px 16px; border-radius:14px; font-weight:700; font-size:15px;
    transition: transform .08s ease, box-shadow .2s ease, background .2s ease;
    box-shadow: 0 6px 18px rgba(36,102,244,.18);
  }
  .btn:active{ transform: translateY(1px); }
  .btn.primary{ background:var(--primary); color:#fff; }
  .btn.ghost{ background:#fff0; color:var(--primary); border:1px solid var(--primary); }
  .btn.copy{ background:var(--primary-weak); color:var(--primary); box-shadow:none; }
  .small{ font-size:13px; color:var(--muted); }
  .mono{
    display:block; margin-top:8px; padding:12px 14px; word-break:break-all;
    background:rgba(0,0,0,.04); border-radius:12px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    font-size:13.5px;
  }
  .footer{ margin-top:26px; text-align:center; color:var(--muted); font-size:12.5px; }
  .toast{
    position:fixed; left:50%; bottom:24px; transform:translateX(-50%);
    background:rgba(0,0,0,.85); color:#fff; padding:10px 14px; border-radius:12px;
    font-size:13px; opacity:0; pointer-events:none; transition:opacity .2s ease, transform .2s ease;
  }
  .toast.show{ opacity:1; transform:translateX(-50%) translateY(-6px); }
  /* 顶部返回“X”留白适配 */
  .safe{ height:8px; }
</style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <!-- 你可以换成自己的指引图 -->
      <img class="hand" alt="点右上角打开" src="https://img.alicdn.com/imgextra/i3/2200638895580/O1CN01awiCFw1r5gfyRJf65_!!2200638895580.png">
    </div>

    <div class="title">
      请在浏览器中打开
      <span class="badge">推荐</span>
    </div>

    <div class="card">
      <div class="desc">
        因 <b>微信/QQ 内置浏览器</b> 对本活动页支持有限，<br>
        请点击右上角 “<b>···</b>” → 选择 <b>在浏览器中打开</b>。
      </div>

      <div class="btns">
        <button id="btn-mtt" class="btn ghost">在 QQ 浏览器中打开</button>
        <button id="btn-default" class="btn primary">用默认浏览器打开</button>
        <button id="btn-copy" class="btn copy">复制链接</button>
      </div>

      <div class="small">或将下方链接复制到浏览器打开：</div>
      <code id="plain-link" class="mono">https://luckcode-deploy-ashuang.replit.app/</code>
    </div>

    <div class="footer">© Dreammore Burger · 长沙汉堡节</div>
    <div id="toast" class="toast">已复制到剪贴板</div>
    <div class="safe"></div>
  </div>

<script>
  // 1) 目标地址（改这里即可）
  const target = "https://luckcode-deploy-ashuang.replit.app/";

  // 2) 环境判断：如果不是微信/QQ，直接跳转
  (function autoJump(){
    const ua = navigator.userAgent.toLowerCase();
    const isQQ = ua.includes('qq/');
    const isWX = ua.includes('micromessenger');
    if(!isQQ && !isWX){
      location.replace(target);
    } else {
      // 在微信/QQ内，展示引导 & 链接
      document.getElementById('plain-link').textContent = target;
    }
  })();

  // 3) 交互：按钮逻辑
  const toast = (txt)=>{
    const el = document.getElementById('toast');
    el.textContent = txt || '已复制到剪贴板';
    el.classList.add('show');
    setTimeout(()=>el.classList.remove('show'), 1500);
  };

  document.getElementById('btn-mtt').addEventListener('click', (e)=>{
    e.preventDefault();
    // 优先尝试 QQ 浏览器 scheme（部分安卓机有效）
    const scheme = 'mttbrowser://url=' + encodeURIComponent(target);
    const a = document.createElement('a');
    a.style.display='none'; a.href = scheme; document.body.appendChild(a); a.click();
    // 兜底：2.2s 后直接打开目标地址（给系统一点时间唤起外部浏览器）
    setTimeout(()=>{ location.href = target; }, 2200);
  });

  document.getElementById('btn-default').addEventListener('click', (e)=>{
    e.preventDefault();
    location.href = target;
  });

  document.getElementById('btn-copy').addEventListener('click', async ()=>{
    try{
      await navigator.clipboard.writeText(target);
      toast('链接已复制，去外部浏览器粘贴打开');
    }catch(err){
      // 兼容旧机型
      const sel = window.getSelection();
      const range = document.createRange();
      const node = document.getElementById('plain-link');
      range.selectNodeContents(node); sel.removeAllRanges(); sel.addRange(range);
      try{ document.execCommand('copy'); toast(); }catch(e){ toast('复制失败，请长按手动复制'); }
      sel.removeAllRanges();
    }
  });
</script>
</body>
</html>
